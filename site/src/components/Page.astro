---
import { Button } from "@/components/ui/button";
import { ContextView, ContextActions } from "@/components/context-view";
import { Sidebar, ContributeButton } from "@/components/sidebar";
import { WordmarkLong } from "@/components/wordmark";

const contexts = Astro.props.contexts;
const selectedContext = Astro.props.selectedContext;
---

<div class="h-screen flex flex-col md:flex-row">
  <Sidebar contexts={contexts} selectedContext={selectedContext} client:load />

  <div class="flex-1 flex flex-col">
    {
      selectedContext && (
        <div class="sticky top-0 z-10 bg-background md:hidden">
          <div class="px-4 py-2 flex justify-between items-center border-b border-border">
            <a href="/" class="font-bold">
              <Button asChild variant="ghost" size="sm">
                <WordmarkLong />
              </Button>
            </a>
            <ContextActions context={selectedContext} client:load />
            {/* <ContributeButton /> */}
          </div>
        </div>
      )
    }
    <div class="flex-grow overflow-y-auto">
      <ContextView context={selectedContext} client:load />
    </div>
  </div>
</div>
