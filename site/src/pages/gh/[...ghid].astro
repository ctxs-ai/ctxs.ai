---
import type { GetStaticPaths } from "astro";
import Layout from "@/layouts/Layout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import Page from "@/components/Page.astro";

export const getStaticPaths = (async () => {
  const contexts = await getCollection("contexts");

  return contexts.map((c) => ({
    params: { ghid: c.id },
    props: { contexts: contexts, selectedContext: c },
  }));
}) satisfies GetStaticPaths;

const contexts = Astro.props.contexts;
const selectedContext = Astro.props.selectedContext;
---

<Layout>
  <Page contexts={contexts} selectedContext={selectedContext} />
</Layout>
